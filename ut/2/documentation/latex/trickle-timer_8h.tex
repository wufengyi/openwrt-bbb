\hypertarget{trickle-timer_8h}{}\section{/home/user/contiki\+U\+T/contiki/core/lib/trickle-\/timer.h File Reference}
\label{trickle-timer_8h}\index{/home/user/contiki\+U\+T/contiki/core/lib/trickle-\/timer.\+h@{/home/user/contiki\+U\+T/contiki/core/lib/trickle-\/timer.\+h}}
{\ttfamily \#include \char`\"{}contiki-\/conf.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sys/ctimer.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structtrickle__timer}{trickle\+\_\+timer}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__trickle-timer_ga361fa866c3bba8e5a05de3b957bc04c1}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+C\+O\+M\+P\+E\+N\+S\+A\+T\+E\+\_\+\+D\+R\+I\+F\+T}~1
\begin{DoxyCompactList}\small\item\em Controls whether the library will try to compensate for time drifts caused by getting called later than scheduled. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_ga2b3b9fd1a895243db18b35b7600bac15}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+W\+I\+D\+E\+\_\+\+R\+A\+N\+D}~1
\begin{DoxyCompactList}\small\item\em Turns on support for 4-\/byte wide, unsigned random numbers. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_ga157285503882e567c275871fd30d3016}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+M\+A\+X\+\_\+\+I\+M\+A\+X\+\_\+\+W\+I\+D\+T\+H}~\hyperlink{group__trickle-timer_ga63607c0782cac7d825d07bff8c89b3d4}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+M\+A\+X\+\_\+\+I\+M\+A\+X\+\_\+\+G\+E\+N\+E\+R\+I\+C}
\begin{DoxyCompactList}\small\item\em Selects a flavor for the \textquotesingle{}Find maximum Imax\textquotesingle{} (max\+\_\+imax) function. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_gad47a05440295b6f171873f5f43384e56}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+H\+E\+C\+K\+I\+N\+G}~1
\begin{DoxyCompactList}\small\item\em Enables/\+Disables error checking. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}{\bf Trickle Timer Library\+: Constants}\par
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__trickle-timer_ga72117b57dd1e192ca8a016055d2310f3}{}\#define \hyperlink{group__trickle-timer_ga72117b57dd1e192ca8a016055d2310f3}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+I\+N\+F\+I\+N\+I\+T\+E\+\_\+\+R\+E\+D\+U\+N\+D\+A\+N\+C\+Y}~0x00\label{group__trickle-timer_ga72117b57dd1e192ca8a016055d2310f3}

\begin{DoxyCompactList}\small\item\em Set as value of k to disable suppression. \end{DoxyCompactList}\item 
\hypertarget{group__trickle-timer_gac24600ceec4a0dc4b57df1baeb4b876d}{}\#define {\bfseries T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+E\+R\+R\+O\+R}~0\label{group__trickle-timer_gac24600ceec4a0dc4b57df1baeb4b876d}

\item 
\hypertarget{group__trickle-timer_ga8075209f39b5756f0eb5c4ec4b8136e2}{}\#define {\bfseries T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+S\+U\+C\+C\+E\+S\+S}~1\label{group__trickle-timer_ga8075209f39b5756f0eb5c4ec4b8136e2}

\item 
\hypertarget{group__trickle-timer_ga63607c0782cac7d825d07bff8c89b3d4}{}\#define \hyperlink{group__trickle-timer_ga63607c0782cac7d825d07bff8c89b3d4}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+M\+A\+X\+\_\+\+I\+M\+A\+X\+\_\+\+G\+E\+N\+E\+R\+I\+C}~0\label{group__trickle-timer_ga63607c0782cac7d825d07bff8c89b3d4}

\begin{DoxyCompactList}\small\item\em Use as the value of T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+M\+A\+X\+\_\+\+I\+M\+A\+X\+\_\+\+W\+I\+D\+T\+H to enable the generic \textquotesingle{}Find max Imax\textquotesingle{} routine. \end{DoxyCompactList}\item 
\hypertarget{group__trickle-timer_ga41b658ea4619c5e104efb050f664e3f1}{}\#define \hyperlink{group__trickle-timer_ga41b658ea4619c5e104efb050f664e3f1}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+M\+A\+X\+\_\+\+I\+M\+A\+X\+\_\+16\+\_\+\+B\+I\+T}~1\label{group__trickle-timer_ga41b658ea4619c5e104efb050f664e3f1}

\begin{DoxyCompactList}\small\item\em Use as the value of T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+M\+A\+X\+\_\+\+I\+M\+A\+X\+\_\+\+W\+I\+D\+T\+H to enable the 16-\/bit \textquotesingle{}Find max Imax\textquotesingle{} routine. \end{DoxyCompactList}\item 
\hypertarget{group__trickle-timer_gaaaa2a3bec490540d904a0b4a44c6251d}{}\#define \hyperlink{group__trickle-timer_gaaaa2a3bec490540d904a0b4a44c6251d}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+M\+A\+X\+\_\+\+I\+M\+A\+X\+\_\+32\+\_\+\+B\+I\+T}~2\label{group__trickle-timer_gaaaa2a3bec490540d904a0b4a44c6251d}

\begin{DoxyCompactList}\small\item\em Use as the value of T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+M\+A\+X\+\_\+\+I\+M\+A\+X\+\_\+\+W\+I\+D\+T\+H to enable the 32-\/bit \textquotesingle{}Find max Imax\textquotesingle{} routine. \end{DoxyCompactList}\item 
\hypertarget{group__trickle-timer_ga45ed26596d700d8c9111751b243eae7b}{}\#define \hyperlink{group__trickle-timer_ga45ed26596d700d8c9111751b243eae7b}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+T\+X\+\_\+\+S\+U\+P\+P\+R\+E\+S\+S}~0\label{group__trickle-timer_ga45ed26596d700d8c9111751b243eae7b}

\begin{DoxyCompactList}\small\item\em Constants used as values for the {\itshape suppress} param of trickle\+\_\+timer\+\_\+cb\+\_\+t. \end{DoxyCompactList}\item 
\hypertarget{group__trickle-timer_gae692f25bfc1a2915a28389db0fb2a752}{}\#define {\bfseries T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+T\+X\+\_\+\+O\+K}~1\label{group__trickle-timer_gae692f25bfc1a2915a28389db0fb2a752}

\item 
\#define \hyperlink{group__trickle-timer_ga46a9d1ac6e07dc96cfd6224b873333ca}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+I\+S\+\_\+\+S\+T\+O\+P\+P\+E\+D}~0
\begin{DoxyCompactList}\small\item\em A trickle timer is considered \textquotesingle{}stopped\textquotesingle{} when i\+\_\+cur == T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+I\+S\+\_\+\+S\+T\+O\+P\+P\+E\+D. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf Trickle Timer Library\+: Macros}\par
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__trickle-timer_ga8c327f7f935dcc95d89fcbbc664fcdcf}{}\#define \hyperlink{group__trickle-timer_ga8c327f7f935dcc95d89fcbbc664fcdcf}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+C\+L\+O\+C\+K\+\_\+\+M\+A\+X}~((clock\+\_\+time\+\_\+t)$\sim$0)\label{group__trickle-timer_ga8c327f7f935dcc95d89fcbbc664fcdcf}

\begin{DoxyCompactList}\small\item\em cross-\/platform method to get the maximum clock\+\_\+time\+\_\+t value \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_ga5f4e1c6f73eb9c0a18db8434d7103bd6}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+S\+U\+P\+P\+R\+E\+S\+S\+I\+O\+N\+\_\+\+E\+N\+A\+B\+L\+E\+D}(tt)~((tt)-\/$>$k != \hyperlink{group__trickle-timer_ga72117b57dd1e192ca8a016055d2310f3}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+I\+N\+F\+I\+N\+I\+T\+E\+\_\+\+R\+E\+D\+U\+N\+D\+A\+N\+C\+Y})
\begin{DoxyCompactList}\small\item\em Checks if the trickle timer\textquotesingle{}s suppression feature is enabled. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_ga2c3a5dfb5c0f102b1c9755c303620004}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+S\+U\+P\+P\+R\+E\+S\+S\+I\+O\+N\+\_\+\+D\+I\+S\+A\+B\+L\+E\+D}(tt)~((tt)-\/$>$k == \hyperlink{group__trickle-timer_ga72117b57dd1e192ca8a016055d2310f3}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+I\+N\+F\+I\+N\+I\+T\+E\+\_\+\+R\+E\+D\+U\+N\+D\+A\+N\+C\+Y})
\begin{DoxyCompactList}\small\item\em Checks if the trickle timer\textquotesingle{}s suppression feature is disabled. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_ga2b39325309fb89efa3b965437a249bef}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+R\+O\+T\+O\+\_\+\+T\+X\+\_\+\+A\+L\+L\+O\+W}(tt)~(\hyperlink{group__trickle-timer_ga2c3a5dfb5c0f102b1c9755c303620004}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+S\+U\+P\+P\+R\+E\+S\+S\+I\+O\+N\+\_\+\+D\+I\+S\+A\+B\+L\+E\+D}(tt) $\vert$$\vert$ ((tt)-\/$>$c $<$ (tt)-\/$>$k))
\begin{DoxyCompactList}\small\item\em Determines whether the protocol must go ahead with a transmission. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_ga7c8719d9d4ebb06f080442e87fd514c7}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+R\+O\+T\+O\+\_\+\+T\+X\+\_\+\+S\+U\+P\+P\+R\+E\+S\+S}(tt)~(\hyperlink{group__trickle-timer_ga5f4e1c6f73eb9c0a18db8434d7103bd6}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+S\+U\+P\+P\+R\+E\+S\+S\+I\+O\+N\+\_\+\+E\+N\+A\+B\+L\+E\+D}(tt) \&\& ((tt)-\/$>$c $>$= (tt)-\/$>$k))
\begin{DoxyCompactList}\small\item\em Determines whether the protocol must suppress a transmission. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_ga160b7df536d05607f970ef92d1834b8b}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L\+\_\+\+M\+A\+X}(tt)~((tt)-\/$>$i\+\_\+max\+\_\+abs)
\begin{DoxyCompactList}\small\item\em Returns a timer\textquotesingle{}s maximum interval size (Imin $<$$<$ Imax) as a number of clock ticks. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_gaee0150ea3a6efe6136abcb2a9019d096}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L\+\_\+\+E\+N\+D}(tt)~((tt)-\/$>$i\+\_\+start + (tt)-\/$>$i\+\_\+cur)
\begin{DoxyCompactList}\small\item\em Returns the current trickle interval\textquotesingle{}s end (absolute time in ticks) \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_gaf18c0aac91ab42fe0ebb332650330cc2}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+I\+M\+I\+N\+\_\+\+I\+S\+\_\+\+O\+K}(imin)~((imin $>$ 1) \&\& (i\+\_\+min $<$= (\hyperlink{group__trickle-timer_ga8c327f7f935dcc95d89fcbbc664fcdcf}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+C\+L\+O\+C\+K\+\_\+\+M\+A\+X} $>$$>$ 1)))
\begin{DoxyCompactList}\small\item\em Checks whether an Imin value is suitable considering the various restrictions imposed by our platform\textquotesingle{}s clock as well as by the library itself. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_ga48f0bd27341eba9602cb971642221700}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+I\+M\+I\+N\+\_\+\+I\+S\+\_\+\+B\+A\+D}(imin)~((imin $<$ 2) $\vert$$\vert$ (i\+\_\+min $>$ (\hyperlink{group__trickle-timer_ga8c327f7f935dcc95d89fcbbc664fcdcf}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+C\+L\+O\+C\+K\+\_\+\+M\+A\+X} $>$$>$ 1)))
\begin{DoxyCompactList}\small\item\em Checks whether an Imin value is invalid considering the various restrictions imposed by our platform\textquotesingle{}s clock as well as by the library itself. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_ga82b7d1b4b6fb7d11da496229782a5ba7}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+I\+P\+A\+I\+R\+\_\+\+I\+S\+\_\+\+B\+A\+D}(i\+\_\+min,  i\+\_\+max)~((\hyperlink{group__trickle-timer_ga8c327f7f935dcc95d89fcbbc664fcdcf}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+C\+L\+O\+C\+K\+\_\+\+M\+A\+X} $>$$>$ (i\+\_\+max + 1)) $<$ i\+\_\+min -\/ 1)
\begin{DoxyCompactList}\small\item\em Checks whether Imin $<$$<$ Imax is unsuitable considering the boundaries of our platform\textquotesingle{}s clock\+\_\+time\+\_\+t. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Typedefs}
\begin{Indent}{\bf Trickle Timer Library\+: Data Representation}\par
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{group__trickle-timer_ga243193848d28e6373682b8bd2e25850a}{trickle\+\_\+timer\+\_\+cb\+\_\+t}) (void $\ast$ptr, uint8\+\_\+t suppress)
\begin{DoxyCompactList}\small\item\em typedef for a callback function to be defined in the protocol\textquotesingle{}s implementation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Trickle Timer Library\+: Functions called by protocol implementations}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__trickle-timer_gaa475b1b9b3edd81df04d290bd34d7e72}{trickle\+\_\+timer\+\_\+stop}(tt)
\begin{DoxyCompactList}\small\item\em Stop a running trickle timer. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_ga3795c2533ccbd951226385e9b8f30f09}{trickle\+\_\+timer\+\_\+reset\+\_\+event}(tt)~\hyperlink{group__trickle-timer_gae401435f40030c5c4f0f49e813fd9afc}{trickle\+\_\+timer\+\_\+inconsistency}(tt)
\begin{DoxyCompactList}\small\item\em To be called by the protocol when an external event occurs that should trigger a timer reset. \end{DoxyCompactList}\item 
\#define \hyperlink{group__trickle-timer_ga584276a4a8fdcdaf58aa9406e5214591}{trickle\+\_\+timer\+\_\+is\+\_\+running}(tt)~((tt)-\/$>$i\+\_\+cur != \hyperlink{group__trickle-timer_ga46a9d1ac6e07dc96cfd6224b873333ca}{T\+R\+I\+C\+K\+L\+E\+\_\+\+T\+I\+M\+E\+R\+\_\+\+I\+S\+\_\+\+S\+T\+O\+P\+P\+E\+D})
\begin{DoxyCompactList}\small\item\em To be called in order to determine whether a trickle timer is running. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{group__trickle-timer_ga4b21d9fbed3c0c903fa1687b812a7f9c}{trickle\+\_\+timer\+\_\+config} (struct \hyperlink{structtrickle__timer}{trickle\+\_\+timer} $\ast$tt, clock\+\_\+time\+\_\+t i\+\_\+min, uint8\+\_\+t i\+\_\+max, uint8\+\_\+t k)
\begin{DoxyCompactList}\small\item\em Configure a trickle timer. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{group__trickle-timer_ga57b03043f109c0b2adb1dc92637ee8b4}{trickle\+\_\+timer\+\_\+set} (struct \hyperlink{structtrickle__timer}{trickle\+\_\+timer} $\ast$tt, \hyperlink{group__trickle-timer_ga243193848d28e6373682b8bd2e25850a}{trickle\+\_\+timer\+\_\+cb\+\_\+t} proto\+\_\+cb, void $\ast$ptr)
\begin{DoxyCompactList}\small\item\em Start a previously configured trickle timer. \end{DoxyCompactList}\item 
void \hyperlink{group__trickle-timer_gaf7df1a3da4f9be5e2f17c3b77668eb6e}{trickle\+\_\+timer\+\_\+consistency} (struct \hyperlink{structtrickle__timer}{trickle\+\_\+timer} $\ast$tt)
\begin{DoxyCompactList}\small\item\em To be called by the protocol when it hears a consistent transmission. \end{DoxyCompactList}\item 
void \hyperlink{group__trickle-timer_gae401435f40030c5c4f0f49e813fd9afc}{trickle\+\_\+timer\+\_\+inconsistency} (struct \hyperlink{structtrickle__timer}{trickle\+\_\+timer} $\ast$tt)
\begin{DoxyCompactList}\small\item\em To be called by the protocol when it hears an inconsistent transmission. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Trickle timer library header file.

\begin{DoxyAuthor}{Author}
George Oikonomou -\/ \href{mailto:oikonomou@users.sourceforge.net}{\tt oikonomou@users.\+sourceforge.\+net} 
\end{DoxyAuthor}
