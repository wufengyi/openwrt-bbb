<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>ContikiUT: CTK device driver functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ContikiUT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">CTK device driver functions<div class="ingroups"><a class="el" href="group__ctk.html">CTK graphical user interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structctk__widget.html">ctk_widget</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structctk__window.html">ctk_window</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structctk__menuitem.html">ctk_menuitem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structctk__menu.html">ctk_menu</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structctk__menus.html">ctk_menus</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga0d2cd2b8d5b238bdeedb7a8cf5c0e58a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#ga0d2cd2b8d5b238bdeedb7a8cf5c0e58a">CTK_WIDGET_SEPARATOR</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga0d2cd2b8d5b238bdeedb7a8cf5c0e58a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1fb739218fa5f53c992a3bcf2c7e0c57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#ga1fb739218fa5f53c992a3bcf2c7e0c57">CTK_WIDGET_LABEL</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ga1fb739218fa5f53c992a3bcf2c7e0c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8adf9839c98a840b0b9b7c070422440"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#gae8adf9839c98a840b0b9b7c070422440">CTK_WIDGET_BUTTON</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:gae8adf9839c98a840b0b9b7c070422440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad35ef85bb5562d70cee05f97968dadbc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#gad35ef85bb5562d70cee05f97968dadbc">CTK_WIDGET_HYPERLINK</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:gad35ef85bb5562d70cee05f97968dadbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f9b2f0c9b72be56a1aa1abab7867c2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#ga4f9b2f0c9b72be56a1aa1abab7867c2c">CTK_WIDGET_TEXTENTRY</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ga4f9b2f0c9b72be56a1aa1abab7867c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e586304672935cb02e405d7efecfb5b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#ga9e586304672935cb02e405d7efecfb5b">CTK_WIDGET_BITMAP</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:ga9e586304672935cb02e405d7efecfb5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga392197354637697c585c8f6f618e5507"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#ga392197354637697c585c8f6f618e5507">CTK_WIDGET_ICON</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:ga392197354637697c585c8f6f618e5507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94db6c762d672de691ce58fc2c08363e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga94db6c762d672de691ce58fc2c08363e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CTK_WIDGET_FLAG_NONE</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga94db6c762d672de691ce58fc2c08363e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee0da4f98d38aff2b2bd49fec5051f20"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaee0da4f98d38aff2b2bd49fec5051f20"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CTK_WIDGET_FLAG_MONOSPACE</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gaee0da4f98d38aff2b2bd49fec5051f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9cdfa7ba5034052cbd9a154b2d370b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa9cdfa7ba5034052cbd9a154b2d370b5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CTK_WIDGET_FLAG_CENTER</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:gaa9cdfa7ba5034052cbd9a154b2d370b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc9df0318ab76bd1f3d5031a22246ced"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gadc9df0318ab76bd1f3d5031a22246ced"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CTK_WIDGET_SET_FLAG</b>(w,  f)</td></tr>
<tr class="separator:gadc9df0318ab76bd1f3d5031a22246ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4fd23428c36ad11a66c804ade2bb49c4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4fd23428c36ad11a66c804ade2bb49c4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CTK_MAXMENUITEMS</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ga4fd23428c36ad11a66c804ade2bb49c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c298ccc15c01a838e11d4391629f7bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#ga8c298ccc15c01a838e11d4391629f7bf">CTK_FOCUS_NONE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga8c298ccc15c01a838e11d4391629f7bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa49312af6ac5411ecbc0c11caa6fcf2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#gafa49312af6ac5411ecbc0c11caa6fcf2">CTK_FOCUS_WIDGET</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gafa49312af6ac5411ecbc0c11caa6fcf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6bcc3324b455c546e94ba330f6c719b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#gaa6bcc3324b455c546e94ba330f6c719b">CTK_FOCUS_WINDOW</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:gaa6bcc3324b455c546e94ba330f6c719b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga609601e009471eb21c7ff906358a2faf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#ga609601e009471eb21c7ff906358a2faf">CTK_FOCUS_DIALOG</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ga609601e009471eb21c7ff906358a2faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaa6eb41324497b3d828d208c0efa6fa90"><td class="memItemLeft" align="right" valign="top">typedef char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#gaa6eb41324497b3d828d208c0efa6fa90">ctk_arch_key_t</a></td></tr>
<tr class="separator:gaa6eb41324497b3d828d208c0efa6fa90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga271a33b474a94da63244e94c84127303"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#ga271a33b474a94da63244e94c84127303">ctk_draw_init</a> (void)</td></tr>
<tr class="separator:ga271a33b474a94da63244e94c84127303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6e8805e52467b2942c2af3e0080b6e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#gae6e8805e52467b2942c2af3e0080b6e1">ctk_draw_clear</a> (unsigned char clipy1, unsigned char clipy2)</td></tr>
<tr class="separator:gae6e8805e52467b2942c2af3e0080b6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeade88277aa23594cd8dc9f4caeba46d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#gaeade88277aa23594cd8dc9f4caeba46d">ctk_draw_clear_window</a> (struct <a class="el" href="structctk__window.html">ctk_window</a> *window, unsigned char focus, unsigned char clipy1, unsigned char clipy2)</td></tr>
<tr class="separator:gaeade88277aa23594cd8dc9f4caeba46d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae172d39b14556ee88707d4e6979abb34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#gae172d39b14556ee88707d4e6979abb34">ctk_draw_window</a> (struct <a class="el" href="structctk__window.html">ctk_window</a> *window, unsigned char focus, unsigned char clipy1, unsigned char clipy2, unsigned char draw_borders)</td></tr>
<tr class="separator:gae172d39b14556ee88707d4e6979abb34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae973e0af36f51f685e88216fa10ceb56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#gae973e0af36f51f685e88216fa10ceb56">ctk_draw_dialog</a> (struct <a class="el" href="structctk__window.html">ctk_window</a> *dialog)</td></tr>
<tr class="separator:gae973e0af36f51f685e88216fa10ceb56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c09354ec5cfdb654b09cf478e8f2399"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#ga2c09354ec5cfdb654b09cf478e8f2399">ctk_draw_widget</a> (struct <a class="el" href="structctk__widget.html">ctk_widget</a> *w, unsigned char focus, unsigned char clipy1, unsigned char clipy2)</td></tr>
<tr class="separator:ga2c09354ec5cfdb654b09cf478e8f2399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa91a72c85f1c0a96ef85661b3b655067"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa91a72c85f1c0a96ef85661b3b655067"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ctk_draw_menus</b> (struct <a class="el" href="structctk__menus.html">ctk_menus</a> *menus)</td></tr>
<tr class="separator:gaa91a72c85f1c0a96ef85661b3b655067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga573ade441a6b0b0ccbaf5f1ccc90fa9b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga573ade441a6b0b0ccbaf5f1ccc90fa9b"></a>
CCIF unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>ctk_draw_width</b> (void)</td></tr>
<tr class="separator:ga573ade441a6b0b0ccbaf5f1ccc90fa9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8b314f484f9c768f337ab2daabf9318"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac8b314f484f9c768f337ab2daabf9318"></a>
CCIF unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>ctk_draw_height</b> (void)</td></tr>
<tr class="separator:gac8b314f484f9c768f337ab2daabf9318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30c8437f37694ec49bd8bfef7ba0f6a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ctkdraw.html#gaa6eb41324497b3d828d208c0efa6fa90">ctk_arch_key_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#ga30c8437f37694ec49bd8bfef7ba0f6a0">ctk_arch_getkey</a> (void)</td></tr>
<tr class="separator:ga30c8437f37694ec49bd8bfef7ba0f6a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga273c1f39eb29f14b9ca5f0a7d8db9d42"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ctkdraw.html#ga273c1f39eb29f14b9ca5f0a7d8db9d42">ctk_arch_keyavail</a> (void)</td></tr>
<tr class="separator:ga273c1f39eb29f14b9ca5f0a7d8db9d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga9e116d894f9f5823092910e77b8224e0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9e116d894f9f5823092910e77b8224e0"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>ctk_draw_windowborder_width</b></td></tr>
<tr class="separator:ga9e116d894f9f5823092910e77b8224e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90e742edc8b359a73f02699c84d921e2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga90e742edc8b359a73f02699c84d921e2"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>ctk_draw_windowborder_height</b></td></tr>
<tr class="separator:ga90e742edc8b359a73f02699c84d921e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60d13ead987fe40807293206478b207f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga60d13ead987fe40807293206478b207f"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>ctk_draw_windowtitle_height</b></td></tr>
<tr class="separator:ga60d13ead987fe40807293206478b207f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The CTK device driver functions are divided into two modules, the ctk-draw module and the ctk-arch module. The purpose of the ctk-arch and the ctk-draw modules is to act as an interface between the CTK and the actual hardware of the system on which Contiki is run. The ctk-arch takes care of the keyboard input from the user, and the ctk-draw is responsible for drawing the CTK desktop, windows and user interface widgets onto the actual screen.</p>
<p>More information about the ctk-draw and the ctk-arch modules can be found in the sections <a class="el" href="group__ctkdraw.html">The ctk-draw module</a> and <a class="el" href="group__ctkdraw.html">The ctk-arch module</a>. </p>


<h3><a class="anchor" id="ctk-draw"></a>The ctk-draw module</h3><div class="textblock">In order to work efficiently even on limited systems, CTK uses a simple coordinate system, where the screen is addressed using character coordinates instead of pixel coordinates. This makes it trivial to implement the coordinate system on a text-based screen, and significantly reduces complexity for pixel based screen systems.The top left of the screen is (0,0) with x and y coordinates growing downwards and to the right.It is the responsibility of the ctk-draw module to keep track of the screen size and must implement the two functions ctk_draw_width() and ctk_draw_height(), which are used by the CTK for querying the screen size. The functions must return the width and the height of the ctk-draw screen in character coordinates.The ctk-draw module is responsible for drawing CTK windows onto the screen through the function <a class="el" href="group__ctkdraw.html#gae172d39b14556ee88707d4e6979abb34">ctk_draw_window()</a>.. A pseudo-code implementation of this function might look like this: </p><div class="fragment"><div class="line"><a class="code" href="group__ctkdraw.html#gae172d39b14556ee88707d4e6979abb34">ctk_draw_window</a>(window, focus, clipy1, clipy2, draw_borders) {</div>
<div class="line">   <span class="keywordflow">if</span>(draw_borders) {</div>
<div class="line">      draw_window_borders(window, focus, clipy1, clipy2);</div>
<div class="line">   }</div>
<div class="line">   <span class="keywordflow">foreach</span>(widget, window-&gt;inactive) {</div>
<div class="line">      <a class="code" href="group__ctkdraw.html#ga2c09354ec5cfdb654b09cf478e8f2399">ctk_draw_widget</a>(widget, focus, clipy1, clipy2);</div>
<div class="line">   }</div>
<div class="line">   <span class="keywordflow">foreach</span>(widget, window-&gt;active) {</div>
<div class="line">      <span class="keywordflow">if</span>(widget == window-&gt;focused) {</div>
<div class="line">     <a class="code" href="group__ctkdraw.html#ga2c09354ec5cfdb654b09cf478e8f2399">ctk_draw_widget</a>(widget, focus | <a class="code" href="group__ctkdraw.html#gafa49312af6ac5411ecbc0c11caa6fcf2">CTK_FOCUS_WIDGET</a>,</div>
<div class="line">                     clipy1, clipy2);</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">     <a class="code" href="group__ctkdraw.html#ga2c09354ec5cfdb654b09cf478e8f2399">ctk_draw_widget</a>(widget, focus, clipy1, clipy2);</div>
<div class="line">  }</div>
<div class="line">   }</div>
<div class="line">}</div>
</div><!-- fragment -->Where draw_window_borders() draws the window borders (also between clipy1 and clipy2). The <a class="el" href="group__ctkdraw.html#ga2c09354ec5cfdb654b09cf478e8f2399">ctk_draw_widget()</a> function is explained below. Notice how the clipy1 and clipy2 parameters are passed to all other functions; every function needs to know the boundaries within which they are allowed to draw.In order to aid in implementing a ctk-draw module, a text-based ctk-draw called ctk-conio has already been implemented. It conforms to the Borland conio C library, and a skeleton implementation of said library exists in lib/libconio.c. If a more machine specific ctk-draw module is to be implemented, the instructions in this file should be followed. </div>

<h3><a class="anchor" id="ctk-arch"></a>The ctk-arch module</h3><div class="textblock">The character used for the Return/Enter key.#define CH_ENTER '<br />
'The ctk-arch module deals with keyboard input from the underlying target system on which Contiki is running. The ctk-arch manages a keyboard input queue that is queried using the two functions <a class="el" href="group__ctkdraw.html#ga273c1f39eb29f14b9ca5f0a7d8db9d42">ctk_arch_keyavail()</a> and <a class="el" href="group__ctkdraw.html#ga30c8437f37694ec49bd8bfef7ba0f6a0">ctk_arch_getkey()</a>. </div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga609601e009471eb21c7ff906358a2faf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTK_FOCUS_DIALOG&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Widget focus flag: widget is in a dialog. </p>

</div>
</div>
<a class="anchor" id="ga8c298ccc15c01a838e11d4391629f7bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTK_FOCUS_NONE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Widget focus flag: no focus. </p>

</div>
</div>
<a class="anchor" id="gafa49312af6ac5411ecbc0c11caa6fcf2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTK_FOCUS_WIDGET&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Widget focus flag: widget has focus. </p>

</div>
</div>
<a class="anchor" id="gaa6bcc3324b455c546e94ba330f6c719b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTK_FOCUS_WINDOW&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Widget focus flag: widget's window is the foremost one. </p>

</div>
</div>
<a class="anchor" id="ga9e586304672935cb02e405d7efecfb5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTK_WIDGET_BITMAP&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Widget number: The CTK bitmap widget. </p>

</div>
</div>
<a class="anchor" id="gae8adf9839c98a840b0b9b7c070422440"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTK_WIDGET_BUTTON&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Widget number: The CTK button widget. </p>

</div>
</div>
<a class="anchor" id="gad35ef85bb5562d70cee05f97968dadbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTK_WIDGET_HYPERLINK&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Widget number: The CTK hyperlink widget. </p>

</div>
</div>
<a class="anchor" id="ga392197354637697c585c8f6f618e5507"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTK_WIDGET_ICON&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Widget number: The CTK icon widget. </p>

</div>
</div>
<a class="anchor" id="ga1fb739218fa5f53c992a3bcf2c7e0c57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTK_WIDGET_LABEL&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Widget number: The CTK label widget. </p>

</div>
</div>
<a class="anchor" id="ga0d2cd2b8d5b238bdeedb7a8cf5c0e58a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTK_WIDGET_SEPARATOR&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Widget number: The CTK separator widget. </p>

</div>
</div>
<a class="anchor" id="ga4f9b2f0c9b72be56a1aa1abab7867c2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTK_WIDGET_TEXTENTRY&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Widget number: The CTK textentry widget. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaa6eb41324497b3d828d208c0efa6fa90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef char <a class="el" href="group__ctkdraw.html#gaa6eb41324497b3d828d208c0efa6fa90">ctk_arch_key_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The keyboard character type of the system</p>
<p>The ctk_arch_key_t is usually typedef'd to the char type, but some systems (such as VNC) have a 16-bit key type. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga30c8437f37694ec49bd8bfef7ba0f6a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ctkdraw.html#gaa6eb41324497b3d828d208c0efa6fa90">ctk_arch_key_t</a> ctk_arch_getkey </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a keypress from the keyboard input queue.</p>
<p>This function will remove the first keypress in the keyboard input queue and return it. If the keyboard queue is empty, the return value is undefined. This function is intended to be used only after the <a class="el" href="group__ctkdraw.html#ga273c1f39eb29f14b9ca5f0a7d8db9d42">ctk_arch_keyavail()</a> function has returned non-zero.</p>
<dl class="section return"><dt>Returns</dt><dd>The first keypress from the keyboard input queue. </dd></dl>

</div>
</div>
<a class="anchor" id="ga273c1f39eb29f14b9ca5f0a7d8db9d42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char ctk_arch_keyavail </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if there is a keypress in the keyboard input queue.</p>
<dl class="section return"><dt>Returns</dt><dd>Zero if the keyboard input queue is empty, non-zero otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="gae6e8805e52467b2942c2af3e0080b6e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ctk_draw_clear </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clipy1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clipy2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the screen between the clip bounds.</p>
<p>This function should clear the screen between the y coordinates "clipy1" and "clipy2", including the line at y coordinate "clipy1", but not the line at y coordinate "clipy2".</p>
<dl class="section note"><dt>Note</dt><dd>This function may be used to draw a background image (wallpaper) on the desktop; it does not necessarily "clear" the screen.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clipy1</td><td>The lower y coordinate of the clip region. </td></tr>
    <tr><td class="paramname">clipy2</td><td>The upper y coordinate of the clip region. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaeade88277aa23594cd8dc9f4caeba46d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ctk_draw_clear_window </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structctk__window.html">ctk_window</a> *&#160;</td>
          <td class="paramname"><em>window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>focus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clipy1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clipy2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Draw the window background.</p>
<p>This function will be called by the CTK before a window will be completely redrawn.The function is supposed to draw the window background, excluding window borders as these should be drawn by the function that actually draws the window, between "clipy1" and "clipy2".</p>
<dl class="section note"><dt>Note</dt><dd>This function does not necessarily have to clear the window - it can be used for drawing a background pattern in the window as well.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">window</td><td>The window for which the background should be drawn.</td></tr>
    <tr><td class="paramname">focus</td><td>The focus of the window, either CTK_FOCUS_NONE for a background window, or CTK_FOCUS_WINDOW for the foreground window.</td></tr>
    <tr><td class="paramname">clipy1</td><td>The lower y coordinate of the clip region. </td></tr>
    <tr><td class="paramname">clipy2</td><td>The upper y coordinate of the clip region. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae973e0af36f51f685e88216fa10ceb56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ctk_draw_dialog </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structctk__window.html">ctk_window</a> *&#160;</td>
          <td class="paramname"><em>dialog</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Draw a dialog onto the screen.</p>
<p>In CTK, a dialog is similar to a window, with the only exception being that they are drawn in a different style. Also, since dialogs always are drawn on top of everything else, they do not need to be drawn within any special boundaries.</p>
<dl class="section note"><dt>Note</dt><dd>This function can usually be implemented so that it uses the same widget drawing code as the <a class="el" href="group__ctkdraw.html#gae172d39b14556ee88707d4e6979abb34">ctk_draw_window()</a> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dialog</td><td>The dialog that is to be drawn. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga271a33b474a94da63244e94c84127303"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ctk_draw_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The initialization function.</p>
<p>This function is supposed to get the screen ready for drawing, and may be called at more than one time during the operation of the system. </p>

</div>
</div>
<a class="anchor" id="ga2c09354ec5cfdb654b09cf478e8f2399"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ctk_draw_widget </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structctk__widget.html">ctk_widget</a> *&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>focus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clipy1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clipy2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Draw a widget on a window.</p>
<p>This function is used for drawing a CTK widgets onto the screem is likely to be the most complex function in the ctk-draw module. Still, it is straightforward to implement as it can be written in an incremental fashion, starting with a single widget type and adding more widget types, one at a time.</p>
<p>The ctk-draw module may exploit how the CTK focus constants are defined in order to use a look-up table for the colors. The CTK focus constants are defined in the file <a class="el" href="ctk_8h.html">ctk/ctk.h</a> as follows: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;#define CTK_FOCUS_NONE     0</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;#define CTK_FOCUS_WIDGET   1</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;#define CTK_FOCUS_WINDOW   2</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;#define CTK_FOCUS_DIALOG   4</div>
</div><!-- fragment --><p>This gives the following table: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;0: CTK_FOCUS_NONE      (Background window, non-focused widget)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;1: CTK_FOCUS_WIDGET    (Background window, focused widget)</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;2: CTK_FOCUS_WINDOW    (Foreground window, non-focused widget)</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;3: CTK_FOCUS_WINDOW | CTK_FOCUS_WIDGET</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;                       (Foreground window, focused widget)</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;4: CTK_FOCUS_DIALOG    (Dialog, non-focused widget)</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;5: CTK_FOCUS_DIALOG | CTK_FOCUS_WIDGET</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;                       (Dialog, focused widget)</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>The widget to be drawn. </td></tr>
    <tr><td class="paramname">focus</td><td>The focus of the widget. </td></tr>
    <tr><td class="paramname">clipy1</td><td>The lower y coordinate of the clip region. </td></tr>
    <tr><td class="paramname">clipy2</td><td>The upper y coordinate of the clip region. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae172d39b14556ee88707d4e6979abb34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ctk_draw_window </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structctk__window.html">ctk_window</a> *&#160;</td>
          <td class="paramname"><em>window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>focus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clipy1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clipy2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>draw_borders</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Draw a window onto the screen.</p>
<p>This function is called by the CTK when a window should be drawn on the screen. The ctk-draw layer is free to choose how the window will appear on screen; with or without window borders and the style of the borders, with or without transparent window background and how the background shall look, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">window</td><td>The window which is to be drawn.</td></tr>
    <tr><td class="paramname">focus</td><td>Specifies if the window should be drawn in foreground or background colors and can be either CTK_FOCUS_NONE or CTK_FOCUS_WINDOW. Windows with a focus of CTK_FOCUS_WINDOW is usually drawn in a brighter color than those with CTK_FOCUS_NONE.</td></tr>
    <tr><td class="paramname">clipy1</td><td>Specifies the first lines on screen that actually should be drawn, in screen coordinates (line 1 is the first line below the menus).</td></tr>
    <tr><td class="paramname">clipy2</td><td>Specifies the last + 1 line on screen that should be drawn, in screen coordinates (line 1 is the first line below the menus) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 23 2014 04:20:19 for ContikiUT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
